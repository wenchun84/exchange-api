<!doctype html>
<meta charset="utf-8">
<title>匯率計算器</title>
<style>
  body{font-family:sans-serif;max-width:420px;margin:40px auto}
  label,input,select,button{font-size:16px;margin:4px 0}
  input,select{padding:4px;width:140px}
  #out{margin-top:12px;font-weight:bold}
</style>

<h2>即時匯率計算器</h2>

<label>從
  <input id="from" value="USD">
</label>
<label>到
  <input id="to" value="JPY">
</label>
<br>
<label>金額
  <input id="amount" value="100">
</label>
<button onclick="convert()">計算</button>

<p id="out"></p>

<script>
async function convert(){
  const f=from.value.trim(), t=to.value.trim(), a=amount.value.trim();
  if(!f||!t||!a) return alert("請填入三項數值");
  const url=`https://exchange-api-omg7.onrender.com/convert?from=${f}&to=${t}&amount=${a}`;
  out.textContent="計算中…";
  try{
    const {result} = await fetch(url).then(r=>r.json());
    out.textContent=`${a} ${f} ≈ ${result.toLocaleString(undefined,{maximumFractionDigits:2})} ${t}`;
  }catch(e){
    out.textContent="後端服務暫時不可用，請稍後再試";
  }
}
</script>
